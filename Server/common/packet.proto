syntax = "proto3";
package impelDown;

option csharp_namespace = "ImpelDown.Proto";

enum MSGID 
{
    S_INIT = 0;


    C_MATCH_MAKING = 20;
    C_CREATE_ROOM = 21;
    S_CREATE_ROOM = 22;
    C_JOIN_ROOM = 23;
    S_JOIN_ROOM = 24;
    C_EXIT_ROOM = 25;
    S_EXIT_ROOM = 26;
    C_REFRESH_ROOMLIST = 27;
    S_REFRESH_ROOMLIST = 28;
    C_REFRESH_ROOM = 29;
    S_REFRESH_ROOM = 30;

    

    C_GAME_START = 51;
    S_GAME_START = 52;
    C_GAME_EXIT = 53;
    S_GAME_EXIT = 54;

    C_MOVE = 55;
    S_PLAYERLIST = 56;
    C_CATCH = 57;
    
    S_CATCH = 58;


    S_GAME_END = 90;
    

    C_MAGICIAN_SKILL = 100;
    S_MAGICIAN_SKILL = 101;
    C_ROBOT_SKILL = 102;
    S_ROBOT_SKILL = 103;
    C_HUNTER_SKILL = 104;
    S_HUNTER_SKILL = 105;
    C_NINJA_SKILL = 106;
    S_NINJA_SKILL = 107;
    C_PIRATE_SKILL = 108;
    S_PIRATE_SKILL = 109;
    C_RACCOON_SKILL = 110;
    S_RACCOON_SKILL = 111;
    C_WEREWOLF = 112;
    S_WEREWOLF = 113;

}

enum PlayerState {
    NONE = 0;
    ALIVE = 1;
    CATCHED = 2;
    GHOST = 3;
}

message PlayerInfo {
    int32 playerId = 1;
    string playerName = 2;  
    int32 characterIndex = 3;
    PositionInfo positionInfo = 4;
    int32 tailIndex = 5;
    int32 targetTailIndex = 6;
    PlayerState playerState = 7;
}

message Position {
    float x = 1;
    float y = 2;
}

message PositionInfo {
    Position position = 1;
    float scaleX = 2;
}

message S_Init {
    int32 playerId = 1;
}

message RoomInfo {
    int32 roomIndex = 1;
    PlayerInfo hostPlayer = 2;
    int32 maxPeople = 3;
    int32 currentPeople = 4;
    repeated PlayerInfo playerInfos = 5;
    int32 mapIndex = 6;
}

message C_Match_Making {
    int32 playerId = 1;
}
message C_Create_Room {
    int32 playerId = 1;
    int32 maxPeople = 2;
}
message S_Create_Room {}
message C_Join_Room {
    int32 playerId = 1;
    int32 roomIndex = 2;
}
message S_Join_Room {}
message C_Exit_Room {
    int32 playerId = 1;
} 
message S_Exit_Room {}
message C_Refresh_RoomList {}

message S_Refresh_RoomList{
   repeated RoomInfo roomInfos = 1;
}

message C_Refresh_Room {
    int32 playerId = 1;
}

message S_Refresh_Room {
    RoomInfo roomInfo = 1;
}


message C_Game_Start {
    int32 playerId = 1;
}

message S_Game_Start {
    RoomInfo roomInfo = 1;
}

message C_Game_Exit {
    int32 playerId = 1;
}

message S_Game_Exit {
    int32 playerId = 1;
    PlayerInfo playerInfo = 2;
}

message C_Move {
    int32 playerId = 1;
    PositionInfo positionInfo = 2;
}

message S_PlayerList {
    repeated PlayerInfo playerInfos = 1;
}

message C_Catch {
    int32 playerId = 1;
    int32 beCatchedPlayerId = 2;
}

message S_Catch {
    PlayerInfo catchingPlayerInfo = 1;
    repeated PlayerInfo playerInfos = 2;
}

message S_Game_End {
    int32 playerId = 1;
}




message C_Ninja_Skill {
    int32 playerId = 1;
}

message S_Ninja_Skill {
    int32 playerId = 1;
}